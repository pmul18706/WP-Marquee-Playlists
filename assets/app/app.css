.wmp2-app{font-family:system-ui; padding:14px}
.wmp2-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.wmp2-title{font-size:18px;font-weight:800}
.wmp2-main{display:grid;grid-template-columns: 1fr 1fr;gap:14px}
.wmp2-col h3{margin:0 0 8px 0}
.wmp2-card{background:#fff;border:1px solid #dcdcde;border-radius:12px;padding:12px;min-height:120px}
.wmp2-btn{background:#2271b1;color:#fff;border:none;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}
.wmp2-btn.secondary{background:#f0f0f1;color:#1d2327;border:1px solid #dcdcde}
.wmp2-btn.danger{background:#b32d2e}
.wmp2-btn:disabled{opacity:.6;cursor:not-allowed}

.wmp2-listitem{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px solid #e7e7ea;border-radius:10px;margin:8px 0;cursor:pointer}
.wmp2-listitem:hover{background:#f6f7f7}
.wmp2-pill{font-size:12px;border:1px solid #e7e7ea;border-radius:999px;padding:3px 8px;color:#555}

.wmp2-row{display:flex;gap:8px;align-items:center;margin:10px 0;flex-wrap:wrap}
.wmp2-row label{font-weight:700}
.wmp2-row input[type="text"], .wmp2-row input[type="number"], .wmp2-row input[type="datetime-local"], .wmp2-row textarea, .wmp2-row select{
  flex:1;min-width:220px;padding:7px 10px;border-radius:10px;border:1px solid #dcdcde;background:#fff
}

.wmp2-link{font-size:12px}
code{font-size:12px}

.wmp2-subtitle{font-weight:800;margin-top:8px}
.wmp2-hr{border:none;border-top:1px solid #e7e7ea;margin:12px 0}
.wmp2-tabs{display:flex;gap:8px;flex-wrap:wrap}
.wmp2-tab{
  border:1px solid #dcdcde;
  background:#f6f7f7;
  padding:6px 12px;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}
.wmp2-tab.is-active{
  background:#2271b1;
  border-color:#2271b1;
  color:#fff;
}

/* Items list */
.wmp2-items{margin-top:10px}
.wmp2-item{
  border:1px solid #e7e7ea;border-radius:12px;padding:10px;margin:10px 0;background:#fbfbfc;
  display:grid;grid-template-columns: 90px 1fr 160px;gap:12px;align-items:start
}
.wmp2-thumb{width:90px;height:56px;border-radius:12px;background:#eef0f3;border:1px solid #e3e4e8;overflow:hidden;display:flex;align-items:center;justify-content:center}
.wmp2-thumb img,.wmp2-thumb video{max-width:100%;max-height:100%}
.wmp2-itemhead{display:flex;gap:10px;align-items:flex-start;justify-content:space-between}
.wmp2-filename{font-weight:800;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}
.wmp2-meta{font-size:12px;color:#666;margin-top:2px}
.wmp2-fields{display:grid;grid-template-columns: repeat(2, minmax(0, 1fr));gap:10px;margin-top:10px}
.wmp2-field label{display:block;font-size:11px;color:#6b7280;margin:0 0 4px 2px}
.wmp2-field input,.wmp2-field select{width:100%}
.wmp2-controls{display:flex;flex-direction:column;gap:8px}

.wmp2-win{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
.wmp2-win label{font-weight:600;font-size:12px;color:#374151}

/* Options panel */
.wmp2-options{
  border:1px solid #e7e7ea;border-radius:12px;padding:10px;background:#fff
}
.wmp2-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:10px;
}
.wmp2-grid .wmp2-field select,
.wmp2-grid .wmp2-field input{min-width:0}

.wmp2-windows{
  margin-top:10px;
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}
.wmp2-window-card{
  border:1px solid #e7e7ea;border-radius:12px;padding:10px;background:#fbfbfc
}
.wmp2-window-head{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:6px
}
.wmp2-window-head b{font-size:13px}
.wmp2-mini{font-size:12px;color:#666}

/* simple modal */
.wmp2-modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.45); display:flex; align-items:center; justify-content:center; z-index:99999;
}
.wmp2-modal{
  width:min(980px, calc(100% - 24px));
  background:#fff; border-radius:14px; border:1px solid #dcdcde; padding:12px;
}
.wmp2-modal h3{margin:6px 0 8px 0}
.wmp2-modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px;flex-wrap:wrap}

/* Slide editor */
.wmp2-slide-editor{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  margin-top:10px;
}
.wmp2-toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  padding:10px;
  border:1px solid #e7e7ea;
  border-radius:12px;
  background:#fbfbfc;
}
.wmp2-toolbar .wmp2-tool{
  display:flex; gap:6px; align-items:center;
  border:1px solid #e7e7ea;
  border-radius:12px;
  padding:6px 8px;
  background:#fff;
}
.wmp2-toolbar label{font-size:12px;color:#374151;font-weight:700;margin:0}
.wmp2-toolbar input,.wmp2-toolbar select{
  border:1px solid #dcdcde;border-radius:10px;padding:6px 8px;
  font-size:12px;
}
.wmp2-toolbar button{
  border:1px solid #dcdcde;
  background:#fff;
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:800;
}
.wmp2-toolbar button.active{
  background:#111827;
  color:#fff;
  border-color:#111827;
}

.wmp2-editorbox{
  border:1px solid #e7e7ea;
  border-radius:12px;
  background:#fff;
  padding:10px;
}
.wmp2-editable{
  min-height:220px;
  border:1px solid #dcdcde;
  border-radius:12px;
  padding:10px;
  outline:none;
}
.wmp2-help{
  font-size:12px;color:#6b7280;line-height:1.4;margin-top:8px;
}

.wmp2-previewbox{
  border:1px solid #e7e7ea;
  border-radius:12px;
  background:#fff;
  padding:10px;
}
.wmp2-previewframe{
  border:1px solid #dcdcde;
  border-radius:12px;
  background:#0b0b0b;
  height:320px;
  display:flex;
  align-items:stretch;
  justify-content:stretch;
  overflow:hidden;
}
.wmp2-slide-preview{
  width:100%;
  height:100%;
  padding:14px;
  overflow:hidden;
  box-sizing:border-box;
}

.wmp2-slide-preview.marquee{
  position:relative;
}
.wmp2-slide-preview .track{
  position:absolute;
  left:0; top:0;
  white-space:nowrap;
  will-change:transform;
}
@keyframes wmp2_prev_left{
  from{ transform: translate3d(100%,0,0); }
  to{ transform: translate3d(-100%,0,0); }
}
@keyframes wmp2_prev_right{
  from{ transform: translate3d(-100%,0,0); }
  to{ transform: translate3d(100%,0,0); }
}
/* --- Slide Editor Modal --- */
.wmp2-modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 99999;
}
.wmp2-modal-backdrop.is-open { display: flex; }

.wmp2-modal {
  width: min(1100px, calc(100vw - 40px));
  height: min(720px, calc(100vh - 60px));
  background: #fff;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
  display: flex;
  flex-direction: column;
}

.wmp2-modal-header {
  padding: 12px 14px;
  border-bottom: 1px solid #e5e7eb;
  display:flex; align-items:center; justify-content:space-between;
  gap: 10px;
}
.wmp2-modal-header h2 { margin: 0; font-size: 16px; font-weight: 800; }

.wmp2-modal-actions { display:flex; gap: 8px; align-items:center; }
.wmp2-btn {
  border: 1px solid #cbd5e1;
  background: #f8fafc;
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
}
.wmp2-btn.primary {
  background: #2271b1;
  color: #fff;
  border-color: #1d5f94;
}
.wmp2-btn.danger {
  background: #b32d2e;
  color: #fff;
  border-color: #8f2324;
}

.wmp2-modal-toolbar {
  padding: 10px 12px;
  border-bottom: 1px solid #e5e7eb;
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.wmp2-pill {
  display:flex; align-items:center; gap: 8px;
  padding: 6px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
}
.wmp2-pill label { font-size: 12px; font-weight: 800; color: #334155; }
.wmp2-pill select, .wmp2-pill input[type="color"], .wmp2-pill input[type="number"], .wmp2-pill input[type="range"] {
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 4px 8px;
  background: #fff;
}

.wmp2-toolbtn {
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
  font-weight: 900;
}
.wmp2-toolbtn.is-active {
  background: #e0f2fe;
  border-color: #7dd3fc;
}

.wmp2-modal-body {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  padding: 12px;
  background: #f8fafc;
  overflow: hidden;
}

.wmp2-panel {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  overflow: hidden;
  display:flex;
  flex-direction: column;
  min-height: 0;
}
.wmp2-panel-hd {
  padding: 10px 12px;
  border-bottom: 1px solid #e5e7eb;
  font-weight: 900;
}
.wmp2-panel-bd {
  flex:1;
  min-height: 0;
  overflow: auto;
  padding: 12px;
}

#wmp2-slide-edit {
  min-height: 260px;
  outline: none;
}

#wmp2-slide-preview {
  min-height: 260px;
  border-radius: 12px;
  overflow: hidden;
}

.wmp2-note {
  font-size: 12px;
  color: #64748b;
  margin-top: 8px;
}
